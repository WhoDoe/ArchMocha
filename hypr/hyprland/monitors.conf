################
### MONITORS ###
################
# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃ CẤU HÌNH MÀN HÌNH HYPRLAND - Quản lý màn hình, độ phân giải, tần số, vị trí, scale, và transform (multi-monitor setup) ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
# Tài liệu chính thức: https://wiki.hypr.land/Configuring/Monitors/
# Phần này định nghĩa cấu hình cho từng màn hình (monitor), bao gồm độ phân giải, tần số quét (refresh rate), scale (cho HiDPI), vị trí (position), và transform (xoay, lật).
# Cú pháp cơ bản: monitor = <name>, <resolution>@<refresh>, <position>, <scale>, [transform], [other options]
# - <name>: Tên thiết bị (eDP-1 cho laptop internal, HDMI-A-1/DP-1 cho external; tra bằng hyprctl monitors).
# - <resolution>@<refresh>: Độ phân giải và tần số (ví dụ: 1920x1080@60; dùng 'preferred' để auto).
# - <position>: Vị trí tương đối (auto để tự động, hoặc <x>x<y> như 0x0 cho gốc, 1920x0 cho bên phải).
# - <scale>: Tỷ lệ scale (1 cho chuẩn, 1.25-1.5 cho 2K, 2 cho 4K để font/icon không nhỏ).
# - [transform]: Tùy chọn xoay (normal, 90, 180, 270) hoặc lật (flipped, flipped-90...).
# Lưu ý quan trọng:
# - Hyprland hỗ trợ multi-monitor native Wayland (tốt hơn X11); nhưng thay đổi thường cần restart Hyprland hoặc rút/cắm cáp để áp dụng.
# - Nếu không set, Hyprland dùng auto-detect; nhưng explicit config tốt hơn cho custom setup.
# - Debug: Chạy 'hyprctl monitors' để xem current setup; 'hyprctl keyword monitor <config>' để apply runtime (nhưng không persist).
# - Pro Tips: Kết hợp với env vars như GDK_SCALE cho per-app scaling nếu scale global không khớp; dùng wdisplays/arandr cho GUI config rồi export sang đây.

# ===== 1. TỰ ĐỘNG PHÁT HIỆN MÀN HÌNH (AN TOÀN CHO MỌI MÁY) =====
# Cấu hình này để Hyprland tự detect tất cả màn hình, chọn resolution/tần số tối ưu, position auto, scale 1 (không scale).
# Lý tưởng cho máy mới hoặc không muốn tùy chỉnh thủ công; tránh lỗi nếu tên thiết bị thay đổi.
# - '=' nghĩa là áp dụng cho tất cả monitor không được chỉ định explicit.
# - 'preferred': Chọn resolution/refresh tốt nhất theo driver.
# - 'auto': Position tự động (thường xếp ngang nếu multi-monitor).
# - '1': Scale 1.0 (không zoom; dùng cho FHD/1080p).
monitor=,preferred,auto,1 # Tự động config tất cả màn hình (resolution preferred, position auto, scale 1; an toàn cho laptop/desktop)

# ===== 2. TEMPLATE - MULTI MONITOR (COPY & SỬA TÊN, VỊ TRÍ, SCALE) =====
# Template cho multi-monitor: Copy dòng này và chỉnh <name>, resolution, refresh, scale, position, transform.
# Ví dụ cho 2 màn: Laptop internal (eDP-1) ở giữa, external (HDMI-A-1) bên phải.
# - Position: 0x0 cho gốc (trái trên), 1920x0 cho bên phải (nếu internal 1920 rộng).
# - Transform: normal (mặc định), 90 (xoay phải), 180 (ngược), 270 (xoay trái).
# Lưu ý: Thứ tự dòng quan trọng - Hyprland apply từ trên xuống; set internal trước external.
# monitor=<name>,<resolution>@<refresh>,<position>,<scale>,<transform> # Template cơ bản (thay giá trị tương ứng)
#
# Ví dụ: 2 màn hình (laptop + màn ngoài):
# monitor=eDP-1,1920x1080@60,0x0,1 # Màn laptop internal (FHD 60Hz, position gốc, scale 1, normal)
# monitor=HDMI-A-1,2560x1440@75,1920x0,1 # Màn external (QHD 75Hz, bên phải laptop, scale 1, normal)

# ===== 3. HI-DPI / SCALE CHO 2K, 4K (High Resolution Scaling) =====
# Đối với màn hình cao DPI (2K/QHD, 4K/UHD), dùng scale >1 để font/icon lớn hơn, tránh nhỏ li ti.
# - Scale fractional OK (1.25, 1.5); nhưng test vì một số app Wayland chưa hỗ trợ tốt (fallback integer scale).
# - Gợi ý: 1.2-1.5 cho 2K (1440p), 2 cho 4K (2160p) trên laptop 13-15 inch.
# - Kết hợp env vars như GDK_SCALE=2, QT_SCALE_FACTOR=2 cho app GTK/Qt nếu scale global không đủ.
# monitor=DP-1,2560x1440@165,auto,1.2 # Màn external 2K 165Hz, scale 1.2 (tăng 20% size UI)
# monitor=eDP-1,3840x2160@60,auto,2 # Màn laptop 4K 60Hz, scale 2 (để font đọc được trên màn nhỏ)

# ===== 4. XOAY DỌC MÀN HÌNH PHỤ (PORTRAIT MODE) =====
# Xoay màn hình dọc (portrait) cho code/read (cao hơn rộng); dùng transform=90 hoặc 270.
# - 90: Xoay phải (clockwise), 270: Xoay trái (counter-clockwise).
# - Resolution swap nếu xoay: 1920x1080 → 1080x1920.
# - Position điều chỉnh theo (ví dụ: 0x0 cho dọc bên trái).
# monitor=DP-2,1080x1920@60,0x0,1,90 # Màn external xoay dọc phải (portrait clockwise, position gốc)
# monitor=HDMI-A-1,1440x2560@60,2560x0,1,270 # Màn external xoay dọc trái (portrait counter-clockwise, bên phải màn chính)

# ===== 5. ĐẶT VỊ TRÍ MÀN HÌNH NGOÀI (ĐẶT BÊN PHẢI/BÊN TRÁI) =====
# Explicit position để sắp xếp multi-monitor (ngang/dọc); dùng <x>x<y> dựa trên resolution.
# - 0x0: Gốc (thường internal).
# - <width_internal>x0: Bên phải (ngang).
# - 0x<height_internal>: Dưới (dọc).
# - Negative x/y cho bên trái/trên nếu cần mirror/extend ngược.
# Ví dụ: Laptop ở giữa, external bên phải.
# monitor=eDP-1,1920x1080@60,0x0,1 # Màn laptop (position gốc 0x0)
# monitor=HDMI-A-1,2560x1440@75,1920x0,1 # Màn external bên phải (bắt đầu từ x=1920, y=0)

# ===== 6. TẮT MÀN HÌNH KHÔNG DÙNG (DISABLE UNUSED) =====
# Tắt màn hình cụ thể (ví dụ: laptop lid closed, hoặc unused port); dùng 'disable'.
# Hữu ích cho tiết kiệm pin hoặc avoid mirroring không mong muốn.
# - Áp dụng runtime bằng 'hyprctl keyword monitor <name>,disable'.
# monitor=HDMI-A-1,disable # Tắt màn HDMI-A-1 (nếu không dùng hoặc đóng nắp laptop)

# ===== 7. TRA TÊN THIẾT BỊ MÀN HÌNH (RẤT QUAN TRỌNG) =====
# Luôn tra tên chính xác trước khi config để tránh lỗi (name case-sensitive).
# - hyprctl monitors: Lệnh Hyprland để list all monitors (name, resolution current, vrr...).
# - cat /sys/class/drm/*/status: Kiểm tra kernel level (connected/disconnected ports).
# - wlr-randr hoặc kanshi: Công cụ khác để query (nếu hyprctl không đủ).
# hyprctl monitors # Chạy lệnh này trong terminal để xem tên thiết bị (eDP-1, DP-1, HDMI-A-1, v.v.)
# cat /sys/class/drm/*/status # Hoặc kiểm tra thủ công các port connected

# ===== 8. TIPS QUAN TRỌNG & PRO TIPS =====
# ▸ Auto-detect an toàn: Luôn có dòng monitor=,preferred,auto,1 làm fallback nếu explicit config fail (ví dụ: cáp rút ra).
# ▸ Restart cần thiết: Sau edit, restart Hyprland (hyprctl exit rồi login lại) hoặc rút/cắm cáp; reload config không đủ cho monitor.
# ▸ Scale tips: Dùng fractional scale (1.25) cho mượt, nhưng test app (Firefox MOZ_ENABLE_WAYLAND=1 để scale tốt); nếu blur, tăng env WLR_RENDERER_ALLOW_SOFTWARE=1.
# ▸ Multi-monitor advanced: Dùng 'mirror,<name>' để mirror màn (ví dụ: monitor=HDMI-A-1,mirror,eDP-1); hoặc VRR (variable refresh) với enable_vrr=1 nếu monitor hỗ trợ.
# ▸ Laptop lid close: Thêm exec-once = swayidle timeout 300 'hyprctl keyword monitor eDP-1,disable' để tắt internal khi idle.
# ▸ Debug issues: Nếu black screen, comment all monitor lines và dùng auto; check log '~/.hypr/hyprland.log' cho lỗi DRM/KMS.
# ▸ Pro Tips - Siêu Optimize:
#   - Custom resolution: monitor=DP-1,add,1920x1080@60,auto,1 nếu driver không detect mode.
#   - HDR/10-bit: monitor=DP-1,highres@120,auto,1,bitdepth,10 (nếu hardware hỗ trợ).
#   - GUI tools: Sử dụng wdisplays (Wayland) hoặc arandr (XWayland) để config visually, rồi copy output sang đây.
#   - Dynamic config: Dùng kanshi daemon để auto-switch profile khi connect/disconnect monitor (exec-once = kanshi).
#   - Nhớ: Monitor config ảnh hưởng performance - ưu tiên native resolution/refresh để "feel glass" (mượt mà, không lag)!