#################
### AUTOSTART ###
#################
# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃ AUTOSTART - Khởi động tự động các dịch vụ và ứng dụng cần thiết ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
# Phần này định nghĩa các lệnh sẽ được thực thi một lần duy nhất khi Hyprland khởi động.
# Sử dụng 'exec-once' để tránh chạy lại khi reload config.
# Các ứng dụng được phân loại theo nhóm để dễ quản lý và tùy chỉnh.
# Lưu ý: Chỉ thêm các ứng dụng thực sự cần thiết để giữ cho hệ thống khởi động nhanh và nhẹ.

# ===== 1. Thanh trạng thái & Hiệu ứng nền (Waybar, Hyprpaper) =====
# - Waybar: Thanh bar trạng thái hiển thị thời gian, CPU, RAM, mạng, v.v. Có thể tùy chỉnh theme và module.
# - Hyprpaper: Quản lý hình nền (wallpaper), hỗ trợ nhiều màn hình và hiệu ứng glass/blur.
exec-once = waybar # Khởi động thanh bar trạng thái (cần cài đặt waybar trước)
exec-once = hyprpaper # Khởi động trình quản lý wallpaper (hỗ trợ Wayland tốt hơn so với feh hoặc nitrogen)

# ===== 2. Bộ gõ Emoji & IME (fcitx5, emoji) =====
# - Fcitx5: Bộ gõ đa ngôn ngữ, hỗ trợ tiếng Việt (Unikey-like), emoji picker, và tích hợp tốt với Wayland.
# - Nếu gặp vấn đề với focus hoặc input, thử thêm fcitx5-remote để chạy ở chế độ remote.
exec-once = fcitx5 # Bộ gõ đa ngôn ngữ và emoji (tối ưu cho Wayland, hỗ trợ clipboard history)
# exec-once = fcitx5-remote # Tùy chọn: Chạy ở chế độ remote nếu cần tích hợp sâu hơn với các app (ví dụ: VSCode)

# ===== 3. Thông báo & Applet hệ thống =====
# - Dunst: Daemon thông báo nhẹ, hỗ trợ tùy chỉnh theme (ricing), scriptable, và không phụ thuộc vào DE.
# - Nm-applet: Icon tray cho Network Manager, cho phép quản lý WiFi, VPN từ systray.
# - Blueman-applet: Icon tray cho Bluetooth, hỗ trợ kết nối thiết bị nhanh chóng.
exec-once = dunst # Daemon thông báo (siêu nhẹ, hỗ trợ hiệu ứng blur và custom notification)
exec-once = nm-applet # Icon tray cho Network Manager (hiển thị trạng thái mạng, kết nối WiFi)
exec-once = blueman-applet # Icon tray cho Bluetooth Manager (quản lý thiết bị Bluetooth)

# ===== 4. Show-off Terminal, Meme, Splash Ricing =====
# - Các ứng dụng này dùng để hiển thị thông tin hệ thống hoặc animation vui vẻ khi khởi động.
# - Kitty: Terminal emulator nhanh, hỗ trợ GPU rendering, dùng với --hold để giữ cửa sổ mở.
# - Fastfetch: Công cụ hiển thị thông tin hệ thống (như neofetch nhưng nhanh hơn).
# - MomoiSay: Animation meme vui vẻ, có thể tùy chỉnh với -f cho full mode.
exec-once = kitty --hold fastfetch # Mở terminal hiển thị thông tin hệ thống (logo, CPU, RAM, v.v.)
exec-once = kitty --hold momoisay -f # Mở terminal với animation meme (thêm yếu tố vui vẻ cho ricing)

# ===== 5. Quản lý năng lượng & Idle (Tùy chọn, đang comment) =====
# - Swayidle: Quản lý idle timeout, khóa màn hình, tắt màn hình để tiết kiệm pin.
# - Hyprlock: Công cụ khóa màn hình cho Hyprland, hỗ trợ blur và custom theme.
# - DPMS: Tắt/mở màn hình sau thời gian idle (300s khóa, 600s tắt màn).
#exec-once = swayidle -w \
#    timeout 300 'hyprlock' \  # Khóa màn hình sau 5 phút idle
#    timeout 600 'hyprctl dispatch dpms off' \  # Tắt màn hình sau 10 phút idle
#    resume 'hyprctl dispatch dpms on'  # Bật màn hình khi resume từ idle

# ==== Tips: Autostart/Debug/Delay ====
# ▸ exec-once = ... → Chạy chỉ một lần khi Hyprland start (phù hợp cho service nền như waybar, dunst).
# ▸ exec = ... → Chạy lại mỗi khi reload config (không nên dùng cho app nền, có thể gây duplicate process).
# ▸ Nếu app khởi động chậm hoặc xung đột, thêm sleep: exec-once = sleep 1 && waybar (đợi 1 giây trước khi chạy).
# ▸ Debug: Kiểm tra process đang chạy bằng lệnh 'ps aux | grep <app>' hoặc 'pkill <app>' để kill nếu cần.
# ▸ Muốn tùy biến splash screen? Thử các công cụ khác: cbonsai (cây bonsai animation), lolcat (màu sắc text), ponysay (pony nói), onefetch (info Git repo).
# ▸ Để splash auto close: exec-once = kitty --hold sh -c 'fastfetch; sleep 5' (tự đóng sau 5 giây).

# ===== GỢI Ý THÊM (NHANH GỌN, TÙY CHỈNH) =====
# ▸ exec-once = swww init # Nếu dùng Swww cho wallpaper động (hỗ trợ GIF, video làm nền).
# ▸ exec-once = variety # Tự động thay đổi wallpaper theo thời gian, hỗ trợ theme pastel hoặc random từ nguồn online.
# ▸ exec-once = flameshot # Công cụ chụp màn hình nâng cao (với annotation, upload).
# ▸ exec-once = caffeine-ng # Giữ máy không sleep/idle khi đang làm việc (icon tray toggle).
# ▸ exec-once = polkit-gnome-authentication-agent-1 # Nếu cần agent xác thực cho các app yêu cầu quyền root (như pkexec).

# ===== PRO TIPS - SIÊU RICE & OPTIMIZE =====
# ▸ Ricing splash với terminal khác: Thử cool-retro-term (hiệu ứng CRT cũ), alacritty (nhanh nhẹ), foot (minimal), wezterm (hỗ trợ Lua config).
# ▸ Auto close splash: Thêm 'sleep 4 && kill $!' sau lệnh, hoặc dùng app hỗ trợ --timeout.
# ▸ Thêm fun: Chạy random splash mỗi lần - ví dụ: exec-once = kitty --hold sh -c 'if [ $((RANDOM % 2)) -eq 0 ]; then fastfetch; else cmatrix; fi'
# ▸ Optimize: Kiểm tra thời gian boot bằng 'systemd-analyze', tránh autostart quá nhiều app để giữ hệ thống "feel glass" (mượt mà như kính).
# ▸ Nhớ: Mỗi app autostart thêm sẽ tăng thời gian load - ưu tiên lightweight và cần thiết!